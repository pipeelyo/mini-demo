{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 6, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 24, "column": 0}, "map": {"version":3,"sources":["file:///Users/andresgarcia/Documents/GitHub/mini-demo/src/lib/apolloClient.ts"],"sourcesContent":["// src/lib/apolloClient.ts\nimport { ApolloClient, InMemoryCache, HttpLink } from '@apollo/client';\n\nconst client = new ApolloClient({\n  link: new HttpLink({\n    uri: `https://graphql.contentful.com/content/v1/spaces/w4hosymzan98`,\n    headers: {\n      Authorization: `Bearer xRNb9JoL_lcI2tKwx4E54JKbIs4f0TjM_HnEDo33MR8`,\n    },\n  }),\n  cache: new InMemoryCache(),\n});\n\nexport default client;"],"names":[],"mappings":"AAAA,0BAA0B;;;;AAC1B;AAAA;AAAA;;AAEA,MAAM,SAAS,IAAI,0KAAA,CAAA,eAAY,CAAC;IAC9B,MAAM,IAAI,8JAAA,CAAA,WAAQ,CAAC;QACjB,KAAK,CAAC,6DAA6D,CAAC;QACpE,SAAS;YACP,eAAe,CAAC,kDAAkD,CAAC;QACrE;IACF;IACA,OAAO,IAAI,wKAAA,CAAA,gBAAa;AAC1B;uCAEe","debugId":null}},
    {"offset": {"line": 48, "column": 0}, "map": {"version":3,"sources":["file:///Users/andresgarcia/Documents/GitHub/mini-demo/src/graphql/queries.ts"],"sourcesContent":["import { gql } from '@apollo/client';\n\nexport const GET_PAGES_WITH_BLOCKS = gql`\n  query GetPagesWithBlocks {\n    pageCollection(limit: 5) {\n      total\n      items {\n        title\n        slug\n        content {\n          json\n          links {\n            assets {\n              hyperlink {\n                url\n              }\n            }\n          }\n        }\n        blocksCollection(limit: 5) {\n          __typename\n          total\n          items {\n            title\n            descripion\n            contentCollection(limit: 5) {\n              total\n              items {\n                __typename\n                sys {\n                  id\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n`;"],"names":[],"mappings":";;;AAAA;;AAEO,MAAM,wBAAwB,8IAAA,CAAA,MAAG,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqCzC,CAAC","debugId":null}},
    {"offset": {"line": 97, "column": 0}, "map": {"version":3,"sources":["file:///Users/andresgarcia/Documents/GitHub/mini-demo/src/lib/contentBlock.ts"],"sourcesContent":["// src/lib/contentful.ts\nimport { gql } from '@apollo/client';\nimport client from './apolloClient';\nimport {\n  ContentBlock, // Si tienes una interfaz espec√≠fica para ContentBlock\n} from '@/types/contentful'; // Ajusta la ruta si es necesario\n\nexport async function fetchContentBlockDetails(id: string): Promise<ContentBlock | null> {\n  try {\n    const { data } = await client.query<{\n      contentBlock: ContentBlock | null;\n    }>({\n      query: gql`\n        query GetContentBlockDetails($id: String!) {\n          contentBlock(id: $id) {\n            contentTitle\n            contentImage {\n              url\n              fileName\n            }\n            contentDescription {\n              json\n            }\n          }\n        }\n      `,\n      variables: { id },\n    });\n    return data?.contentBlock;\n  } catch (error) {\n    console.error(`Error fetching content block ${id}:`, error);\n    return null;\n  }\n}\n\n// Puedes agregar otras funciones relacionadas con Contentful aqu√≠ (e.g., obtener todas las p√°ginas, etc.)"],"names":[],"mappings":"AAAA,wBAAwB;;;;AACxB;AACA;;;AAKO,eAAe,yBAAyB,EAAU;IACvD,IAAI;QACF,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,0HAAA,CAAA,UAAM,CAAC,KAAK,CAEhC;YACD,OAAO,8IAAA,CAAA,MAAG,CAAC;;;;;;;;;;;;;MAaX,CAAC;YACD,WAAW;gBAAE;YAAG;QAClB;QACA,OAAO,MAAM;IACf,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,CAAC,6BAA6B,EAAE,GAAG,CAAC,CAAC,EAAE;QACrD,OAAO;IACT;AACF,EAEA,0GAA0G","debugId":null}},
    {"offset": {"line": 138, "column": 0}, "map": {"version":3,"sources":["file:///Users/andresgarcia/Documents/GitHub/mini-demo/src/stories/page/Page.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport const Page = registerClientReference(\n    function() { throw new Error(\"Attempted to call Page() from the server but Page is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/stories/page/Page.tsx <module evaluation>\",\n    \"Page\",\n);\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/stories/page/Page.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/stories/page/Page.tsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;;AAAA;;AACO,MAAM,OAAO,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACtC;IAAa,MAAM,IAAI,MAAM;AAAwN,GACrP,2DACA;uCAEW,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACjC;IAAa,MAAM,IAAI,MAAM;AAA6R,GAC1T,2DACA","debugId":null}},
    {"offset": {"line": 156, "column": 0}, "map": {"version":3,"sources":["file:///Users/andresgarcia/Documents/GitHub/mini-demo/src/stories/page/Page.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport const Page = registerClientReference(\n    function() { throw new Error(\"Attempted to call Page() from the server but Page is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/stories/page/Page.tsx\",\n    \"Page\",\n);\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/stories/page/Page.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/stories/page/Page.tsx\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;;AAAA;;AACO,MAAM,OAAO,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACtC;IAAa,MAAM,IAAI,MAAM;AAAwN,GACrP,uCACA;uCAEW,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACjC;IAAa,MAAM,IAAI,MAAM;AAAyQ,GACtS,uCACA","debugId":null}},
    {"offset": {"line": 174, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 184, "column": 0}, "map": {"version":3,"sources":["file:///Users/andresgarcia/Documents/GitHub/mini-demo/src/app/page.tsx"],"sourcesContent":["import './globals.css';\nimport client from '@/lib/apolloClient';\nimport { GET_PAGES_WITH_BLOCKS } from '@/graphql/queries';\nimport { HomePageProps, HomePageData } from '@/types/contentful';\nimport { fetchContentBlockDetails } from '@/lib/contentBlock';\nimport { Page as PageComponent } from '../stories/page/Page';\n\n// Funci√≥n para obtener bloques con detalles (auxiliar)\nasync function getBlockDetails(blocks: any[]) {\n  if (!blocks) return [];\n  const detailedBlocks = await Promise.all(\n    blocks.map(async (blockItem: any) => {\n      if (blockItem.contentCollection?.items) {\n        const detailedContents = await Promise.all(\n          blockItem.contentCollection.items.map(async (contentItem: any) => {\n            const details = await fetchContentBlockDetails(contentItem.sys.id);\n            return { ...contentItem, details };\n          })\n        );\n        return { ...blockItem, detailedContents };\n      }\n      return blockItem;\n    })\n  );\n  return detailedBlocks;\n}\n\n// Funci√≥n principal de carga de datos (SSR)\nasync function getData(): Promise<HomePageProps> {\n  try {\n    const { data } = await client.query<HomePageData>({\n      query: GET_PAGES_WITH_BLOCKS,\n      fetchPolicy: 'network-only', // üëà Fuerza una nueva consulta en cada carga\n      context: {\n        fetchOptions: {\n          next: { revalidate: 0 }, // üëà Desactiva cach√© (Next.js 13+)\n        },\n      },\n    });\n    const pages = data?.pageCollection?.items || [];\n    return { pages };\n  } catch (error) {\n    console.error(\"Error fetching data:\", error);\n    return { pages: [] };\n  }\n}\n\n// Componente de la p√°gina\nexport default async function HomePage() {\n  const { pages } = await getData(); // ‚úÖ Se ejecuta en cada F5\n  const pagesWithDetailedBlocks = await Promise.all(\n    pages.map(async (page) => {\n      const detailedBlocks = await getBlockDetails(page.blocksCollection?.items || []);\n      return { ...page, detailedBlocks };\n    })\n  );\n\n  return (\n    <div>\n      <h1>P√°gina Principal</h1>\n      <PageComponent pages={pagesWithDetailedBlocks} />\n    </div>\n  );\n}"],"names":[],"mappings":";;;;AACA;AACA;AAEA;AACA;;;;;;;AAEA,uDAAuD;AACvD,eAAe,gBAAgB,MAAa;IAC1C,IAAI,CAAC,QAAQ,OAAO,EAAE;IACtB,MAAM,iBAAiB,MAAM,QAAQ,GAAG,CACtC,OAAO,GAAG,CAAC,OAAO;QAChB,IAAI,UAAU,iBAAiB,EAAE,OAAO;YACtC,MAAM,mBAAmB,MAAM,QAAQ,GAAG,CACxC,UAAU,iBAAiB,CAAC,KAAK,CAAC,GAAG,CAAC,OAAO;gBAC3C,MAAM,UAAU,MAAM,CAAA,GAAA,0HAAA,CAAA,2BAAwB,AAAD,EAAE,YAAY,GAAG,CAAC,EAAE;gBACjE,OAAO;oBAAE,GAAG,WAAW;oBAAE;gBAAQ;YACnC;YAEF,OAAO;gBAAE,GAAG,SAAS;gBAAE;YAAiB;QAC1C;QACA,OAAO;IACT;IAEF,OAAO;AACT;AAEA,4CAA4C;AAC5C,eAAe;IACb,IAAI;QACF,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,0HAAA,CAAA,UAAM,CAAC,KAAK,CAAe;YAChD,OAAO,yHAAA,CAAA,wBAAqB;YAC5B,aAAa;YACb,SAAS;gBACP,cAAc;oBACZ,MAAM;wBAAE,YAAY;oBAAE;gBACxB;YACF;QACF;QACA,MAAM,QAAQ,MAAM,gBAAgB,SAAS,EAAE;QAC/C,OAAO;YAAE;QAAM;IACjB,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,wBAAwB;QACtC,OAAO;YAAE,OAAO,EAAE;QAAC;IACrB;AACF;AAGe,eAAe;IAC5B,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,WAAW,0BAA0B;IAC7D,MAAM,0BAA0B,MAAM,QAAQ,GAAG,CAC/C,MAAM,GAAG,CAAC,OAAO;QACf,MAAM,iBAAiB,MAAM,gBAAgB,KAAK,gBAAgB,EAAE,SAAS,EAAE;QAC/E,OAAO;YAAE,GAAG,IAAI;YAAE;QAAe;IACnC;IAGF,qBACE,8OAAC;;0BACC,8OAAC;0BAAG;;;;;;0BACJ,8OAAC,+HAAA,CAAA,OAAa;gBAAC,OAAO;;;;;;;;;;;;AAG5B","debugId":null}}]
}